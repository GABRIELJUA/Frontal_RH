<div class="flex h-screen bg-white dark:bg-black fuente-recursos-humanos overflow-hidden
            text-slate-900 dark:text-white transition-colors duration-300">

  <!-- SIDEBAR -->
  <aside [class.w-60]="!isCollapsed" [class.w-20]="isCollapsed" class="bg-[#f9f9f9] dark:bg-[#0a0a0a]
                 border-r border-slate-200 dark:border-white/10
                 flex flex-col transition-all duration-300 ease-in-out relative z-40">

    <!-- BOTÓN COLAPSE -->
    <button (click)="toggleSidebar()" class="absolute -right-3 top-24 bg-white dark:bg-[#181818]
             border border-slate-200 dark:border-white/10
             rounded-full p-1 text-slate-400 hover:text-slate-600
             dark:text-slate-400 dark:hover:text-white
             shadow-md transition-colors">
      <svg [class.rotate-180]="isCollapsed" class="w-4 h-4 transition-transform duration-300" fill="none"
        stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>

    <!-- LOGO -->
    <div class="h-24 flex items-center px-4 flex-shrink-0">
      <div class="flex items-center justify-center w-full">
        <img src="../../../assets/img/logo/logoHotel.png" alt="Logo Hotel" [class.w-full]="!isCollapsed"
          [class.max-h-16]="!isCollapsed" [class.w-12]="isCollapsed" [class.h-12]="isCollapsed"
          class="object-contain transition-all duration-300 px-2">
      </div>
    </div>

    <!-- NAV -->
    <nav class="flex-1 px-3 py-2 space-y-1 overflow-y-auto custom-scrollbar">

      <a routerLink="/admin/home" routerLinkActive="bg-white/5 text-orange-400"
        [routerLinkActiveOptions]="{exact: true}" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70 group-hover:opacity-100" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Dashboard</span>
      </a>

      <a routerLink="/admin/users" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Usuarios</span>
      </a>

      <a routerLink="/admin/employees" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Personal</span>
      </a>

      <a routerLink="/admin/comunicados" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Comunicados</span>
      </a>

      <a routerLink="/admin/gestionsolicitud" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Solicitudes</span>
      </a>

      <a routerLink="/admin/sugerencias" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Sugerencias</span>
      </a>

      <a routerLink="/admin/biblioteca" routerLinkActive="bg-white/5 text-orange-400" class="flex items-center px-4 py-2 rounded-lg
                text-slate-600 dark:text-slate-300
                hover:bg-slate-200/50 dark:hover:bg-white/5
                transition-all group">
        <svg class="w-5 h-5 flex-shrink-0 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
        </svg>
        <span *ngIf="!isCollapsed" class="ml-3 text-[14px]">Biblioteca</span>
      </a>
    </nav>
  </aside>

  <!-- MAIN -->
  <main class="flex-1 flex flex-col min-w-0 overflow-hidden bg-white dark:bg-black">

    <!-- HEADER -->
    <header class="h-16 bg-white dark:bg-[#0a0a0a]
                   border-b border-slate-200 dark:border-white/10
                   flex items-center justify-between px-8">

      <!-- IZQUIERDA -->
      <div class="flex flex-col">
        <h2 class="text-base font-semibold text-slate-800 dark:text-white">
          Bienvenido, {{ user?.nombre }}
        </h2>

        <div class="flex items-center gap-2 mt-1">
          <span class="text-slate-400 text-[11px] font-semibold uppercase tracking-widest">
            Recursos Humanos
          </span>

          <span *ngIf="breadcrumbLabel" class="text-slate-500 text-xs">
            / {{ breadcrumbLabel }}
          </span>
        </div>
      </div>


      <!-- DERECHA -->
      <div class="flex items-center gap-4 relative">

        <!-- NOTIFICACIONES -->
        <div class="relative">
          <button (click)="toggleNotificaciones($event)" class="w-10 h-10 flex items-center justify-center rounded-xl
                   bg-white dark:bg-[#111111]
                   border border-slate-200 dark:border-white/10
                   hover:bg-slate-100 dark:hover:bg-white/5
                   transition-all shadow-sm relative">

            <svg class="w-5 h-5 text-slate-600 dark:text-slate-300" [ngClass]="{ 'animate-pulse': animarCampana }"
              fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11
         a6.002 6.002 0 00-4-5.659V4
         a2 2 0 10-4 0v1.341
         C7.67 6.165 6 8.388 6 11v3.159
         c0 .538-.214 1.055-.595 1.436L4 17h5
         m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
            </svg>

            <span *ngIf="contadorNotificaciones > 0" class="absolute -top-1 -right-1 bg-red-500 text-white
                         text-[10px] w-5 h-5 rounded-full flex items-center justify-center">
              {{ contadorNotificaciones }}
            </span>
          </button>

          <!-- DROPDOWN -->
          <div *ngIf="mostrarNotificaciones" class="absolute right-0 mt-3 w-80
                      bg-white dark:bg-[#181818]
                      border border-slate-200 dark:border-white/10
                      rounded-xl shadow-2xl z-50 overflow-hidden">

            <div class="p-3 border-b border-slate-200 dark:border-white/10
                        text-xs font-bold uppercase tracking-wide text-slate-500">
              Notificaciones
            </div>

            <div *ngFor="let n of notificaciones" class="p-3 border-b last:border-0
                        hover:bg-slate-100 dark:hover:bg-white/5
                        cursor-pointer">

              <p class="text-sm font-semibold">
                {{ n.titulo }}
              </p>

              <p class="text-xs text-slate-500">
                {{ n.mensaje }}
              </p>
            </div>

          </div>
        </div>


        <!-- PERFIL -->
        <div class="relative">

          <button (click)="togglePerfil($event)" class="flex items-center gap-2 px-3 py-2 rounded-lg
                         hover:bg-slate-100 dark:hover:bg-white/5 transition">

            <div class="w-9 h-9 rounded-full
                        bg-gradient-to-br from-blue-600 to-blue-500
                        text-white flex items-center justify-center
                        font-bold text-sm shadow-md">
              {{ getInitial(user?.nombre) }}
            </div>

            <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
          </button>

          <!-- DROPDOWN PERFIL -->
          <div *ngIf="mostrarPerfil" class="absolute right-0 mt-3 w-56
                      bg-white dark:bg-[#181818]
                      border border-slate-200 dark:border-white/10
                      rounded-xl shadow-2xl z-50 overflow-hidden">

            <div class="px-4 py-3 border-b border-slate-200 dark:border-white/10">
              <p class="text-sm font-semibold">
                {{ user?.nombre }}
              </p>
              <p class="text-xs text-slate-500">
                {{ user?.rol }}
              </p>
            </div>

            <a routerLink="/admin/admin-profile" class="block px-4 py-2 text-sm
                      hover:bg-slate-100 dark:hover:bg-white/5 transition">
              Perfil
            </a>

            <button (click)="toggleDark()" class="w-full text-left px-4 py-2 text-sm
                     hover:bg-slate-100 dark:hover:bg-white/5 transition">
              {{ darkMode ? 'Modo Claro' : 'Modo Oscuro' }}
            </button>

            <button (click)="logout()" class="w-full text-left px-4 py-2 text-sm text-red-500
                     hover:bg-red-50 dark:hover:bg-red-500/10 transition">
              Cerrar sesión
            </button>

          </div>
        </div>

      </div>
    </header>

    <!-- CONTENT -->
    <section class="flex-1 overflow-y-auto p-8">
      <div class="max-w-7xl mx-auto">
        <router-outlet></router-outlet>
      </div>
    </section>

  </main>
</div>